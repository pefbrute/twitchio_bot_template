import logging
import random
from commands import BotCommand
from utils.cooldown_manager import cooldown

logger = logging.getLogger('twitch_bot')

class QuotesCommand(BotCommand):
    def __init__(self, bot):
        super().__init__(bot)
        self.quotes = [
            "В жизни нет безвыходных ситуаций, есть только непринятые решения.",
            "Жизнь — не те дни, что прошли, а те, что запомнились.",
            "Если хочешь понять жизнь, то перестань верить тому, что говорят и пишут, а наблюдай и чувствуй.",
            "Слабые люди преодолевают жизнь, мужественные — осваивают.",
            "Стремитесь не к успеху, а к ценностям, которые он дает",
            "Сложнее всего начать действовать, все остальное зависит только от упорства.",
            "Начинать всегда стоит с того, что сеет сомнения.",
            "80% успеха - это появиться в нужном месте в нужное время.",
            "Лучшая месть – огромный успех.",
            "Упади семь раз и восемь раз поднимись.",
            "У всего есть своя красота, но не каждый может ее увидеть.",
            "Если нет ветра, беритесь за вёсла.",
            "Неудача – это просто возможность начать снова, но уже более мудро.",
            "Никогда не делает ошибок только тот, кто не пробует ничего нового.",
            "Чтобы вести людей за собой, иди за ними.",
            "Одна законченная результативная задача стоит полусотни полузаконченных задач.",
            "Мир делится на два класса — одни веруют в невероятное, другие совершают невозможное.",
            "Ни разу не упасть — не самая большая заслуга в жизни. Главное каждый раз подниматься.",
            "Приносить пользу миру — это единственный способ стать счастливым.",
            "Мудрый человек требует всего только от себя, ничтожный же человек требует всего от других.",
            "У истоков каждого успешного предприятия стоит однажды принятое смелое решение."
        ]

    def register_commands(self):
        #@self.bot.command(name="цитата")
        async def quote_command(ctx):
            """Команда !цитата - отправляет случайную цитату"""
            try:
                quote = random.choice(self.quotes)
                await self.bot.send_safe(ctx, quote)
                logger.info(f"User {ctx.author.name} requested a quote")
            except Exception as e:
                logger.error(f"Error in quote command: {str(e)}")
                await self.bot.send_safe(ctx, "Произошла ошибка при выборе цитаты.") 